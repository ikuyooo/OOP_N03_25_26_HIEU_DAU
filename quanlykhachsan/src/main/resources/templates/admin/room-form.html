<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/layout}" lang="vi">

<head>
    <title th:text="${isNew} ? 'Th√™m ph√≤ng m·ªõi' : 'Ch·ªânh s·ª≠a ph√≤ng ' + ${room.code}"></title>
    <th:block th:replace="~{fragments/head :: common_head(${isNew} ? 'Th√™m ph√≤ng m·ªõi' : 'Ch·ªânh s·ª≠a ph√≤ng ' + ${room.code})}"></th:block>
</head>

<body>
    <div layout:fragment="content" class="content-wrapper">
        
        <h1 class="dashboard-title" th:text="${isNew} ? 'üè† Th√™m ph√≤ng m·ªõi' : '‚úçÔ∏è Ch·ªânh s·ª≠a ph√≤ng: ' + ${room.code}"></h1>

        <div class="card shadow-sm">
            <div class="card-body">
                
                <form th:action="${isNew} ? @{/rooms/new} : @{/rooms/edit/{id}(id=${room.id})}" 
                      th:object="${room}" 
                      method="post">

                    <input type="hidden" th:field="*{id}" th:if="${!isNew}"> 

                    <div class="mb-3">
                        <label for="code" class="form-label fw-bold">M√£ ph√≤ng <span class="text-danger">(*)</span></label>
                        <input type="text" th:field="*{code}" class="form-control" id="code" required 
                               placeholder="V√≠ d·ª•: 101, 205" th:readonly="${!isNew}">
                        <div th:if="${!isNew}" class="form-text">M√£ ph√≤ng kh√¥ng th·ªÉ thay ƒë·ªïi sau khi t·∫°o.</div>
                    </div>

                    <div class="mb-3">
                        <label for="type" class="form-label fw-bold">Lo·∫°i ph√≤ng <span class="text-danger">(*)</span></label>
                        <select th:field="*{type}" class="form-select" id="type" required>
                            <option value="">-- Ch·ªçn lo·∫°i ph√≤ng --</option>
                            <option value="SGL">SGL (Single)</option>
                            <option value="DBL">DBL (Double)</option>
                            <option value="TWN">TWN (Twin)</option>
                            <option value="TRPL">TRPL (Triple)</option>
                            <option value="VIP">VIP (VIP Suite)</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="price" class="form-label fw-bold">Gi√° thu√™ (VNƒê/ƒê√™m) <span class="text-danger">(*)</span></label>
                        <input type="number" th:field="*{price}" class="form-control" id="price" required min="0" step="1000">
                    </div>

                    <div class="mb-3">
                        
                        <div th:if="${!isNew}">
                            <label for="status" class="form-label fw-bold">Tr·∫°ng th√°i ph√≤ng <span class="text-danger">(*)</span></label>
                            <select th:field="*{status}" class="form-select" id="status" required>
                                <option value="VACANT">VACANT (Tr·ªëng)</option>
                                <option value="OCCUPIED">OCCUPIED (ƒêang ·ªü)</option>
                                <option value="CLEANING">CLEANING (D·ªçn d·∫πp)</option>
                                <option value="MAINTENANCE">MAINTENANCE (B·∫£o tr√¨)</option>
                            </select>
                        </div>

                        <div th:if="${isNew}">
                            <input type="hidden" th:field="*{status}" value="VACANT">
                            <div class="alert alert-info py-2">
                                **Tr·∫°ng th√°i m·∫∑c ƒë·ªãnh:** Ph√≤ng m·ªõi s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t l√† **VACANT (Tr·ªëng)**.
                            </div>
                        </div>

                    </div>
                    
                    <div class="mb-4">
                        <label for="description" class="form-label fw-bold">M√¥ t·∫£ chi ti·∫øt</label>
                        <textarea th:field="*{description}" class="form-control" id="description" rows="3"></textarea>
                    </div>

                    <div class="d-flex justify-content-end gap-2">
                        <a th:href="@{/rooms/admin}" class="btn btn-secondary">
                            <i class="bi bi-arrow-left"></i> Quay l·∫°i
                        </a>
                        <button type="submit" class="btn btn-primary" th:text="${isNew} ? 'üíæ L∆∞u Ph√≤ng M·ªõi' : 'üîÑ C·∫≠p nh·∫≠t'">
                            L∆∞u
                        </button>
                    </div>
                </form>

            </div>
        </div>
        
    </div>
</body>
</html>